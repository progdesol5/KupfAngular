<!-- TO GET FORM ID AND SETTINGUP LANGAUGE. -->
<nav class="navbar sticky-top navbar-expand-lg custom-nav bg-light-primary rounded border-primary border border-dashed p-6 mb-3 ml-1"
   *ngIf="!isViewOnly">
    <div [ngClass]="{'header-container': isSearched == true}">
        <div class="sm-container" *ngIf="isSearched">
            <div class="responsive-font"><strong>{{ 'content.name' | translate }}: </strong>{{employeeForm?.controls.englishName.value}} /
                {{employeeForm?.controls.arabicName.value}} ,
                <strong> {{ 'content.salary' | translate }}: </strong> {{employeeForm?.controls.salary.value}} ,
                <strong>{{ 'content.subscriptionDate' | translate }}: </strong> 01/3/2023
            </div>
        </div>
        <div class="btn-container">
            <input type="hidden" #AddService name="AddService" value="AddService">
            <div class="d-flex flex-stack flex-grow-1 flex-wrap flex-md-nowrap">
                <div class="row">
                    <div class="btn-group " role="group" aria-label="Basic example"
                        *ngFor="let bodyLabel of formBodyLabels; let i = index">
                        <button type="button" class="btn btn-primary float-left ArFontStyle dark-sea-green" lang="AR-SA"
                            (click)="saveFinancialService()">{{'content.save' | translate }}</button>

                        <button type="button" class="btn btn-primary float-left ArFontStyle caledon" lang="AR-SA"
                            routerLink="/service-setup/service-details">{{ 'content.cancel' | translate }}</button>

                        <button type="button" class="btn btn-primary float-left ArFontStyle tea-green" lang="AR-SA"
                            routerLink="/service-setup/service-details">{{ 'content.back' | translate }}</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</nav>


<!--Parital View For Search [hidden]="!this.common.ifEmployeeExists"-->
<!-- <app-search-tab [parentFormGroup]="parentForm" [pageName]="'AddService'">

</app-search-tab> -->

<div class="accordian-container">
    <div class="scrollbar">
        <ngb-accordion #acc="ngbAccordion" class="mb-2" activeIds="ngb-panel-1">
            <ngb-panel id="ngb-panel-1">
                <ng-template ngbPanelTitle>
                    <h3 class="m-0 ArFontStyle" lang="AR-SA" id="DocumentAttachments">{{ 'content.searchEmployee' | translate }}</h3>
                </ng-template>
                <ng-template ngbPanelContent>
                    <div id="kt_account_email_preferences" class="collapse show"
                        *ngFor="let bodyLabel of formBodyLabels; let i = index">
                        <div class="flex-grow-1 rounded border-primary border border-dashed p-6">
                            <form [formGroup]="searchForm">
                                <div class="row mb-4">
                                    <div class="col-lg-2 fv-row">
                                        <label class="form-label _title" for="form3Example1 " lang="AR-SA"
                                            [style]='arabicFont'>{{ 'content.pfId' | translate }}</label>
                                        <input type="number" class="form-control" formControlName="pfId" name="pfId" />
                                    </div>
                                    <div class="col-lg-2 fv-row">
                                        <label class="form-label _title" for="form3Example2 " lang="AR-SA"
                                            [style]='arabicFont'>{{ 'content.cid' | translate }}</label>
                                        <input type="number" class="form-control" formControlName="cId" name="cId" />
                                    </div>
                                    <div class="col-lg-2 fv-row">
                                        <label class="form-label _title" for="form3Example2 " lang="AR-SA"
                                            [style]='arabicFont'>{{ 'content.employeeId' | translate }}</label>
                                        <input type="number" class="form-control" formControlName="employeeId"
                                            name="employeeId" />
                                    </div>
                                    <div class="col-lg-2 fv-row">
                                        <button type="button" class="btn btn-primary mt-8 fringy_flower" lang="AR-SA"
                                            [style]='arabicFont' (click)="SearchEmployee()">{{ 'content.searchEmployee' | translate }}</button>
                                    </div>
                                    <div class="col-lg-2 fv-row">
                                        <button type="button" class="btn btn-success mt-8 fringy_flower" lang="AR-SA"
                                            [style]='arabicFont' (click)="SearchSponsor()">{{ 'content.searchSponsor' | translate }}</button>
                                    </div>
                                    <div class="col-lg-2 fv-row">
                                        <button type="button" class="btn btn-success mt-8 fringy_flower" lang="AR-SA"
                                            [style]='arabicFont' (click)="SearchNewSubscriber()">{{ 'content.newSubscriber' | translate }}</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <div class="separator separator-dashed my-6"></div>
                        <form [formGroup]="employeeForm">
                            <div class="row mb-4">
                                <div class="col-lg-4 fv-row">
                                    <label class="form-label _title" for="form3Example1 " lang="AR-SA"
                                        [style]='arabicFont'>{{ 'content.pfId' | translate }}</label>
                                    <input type="text" class="form-control" formControlName="employeePFId"
                                        name="employeePFId" readonly style="background-color: #43ffcb !important;" />
                                </div>
                                <div class="col-lg-4 fv-row">
                                    <label class="form-label _title" for="form3Example2 " lang="AR-SA"
                                        [style]='arabicFont'>{{ 'content.cid' | translate }}</label>
                                    <input type="text" class="form-control" formControlName="employeeCID"
                                        name="employeeCID" readonly style="background-color: #43ffcb !important;" />
                                </div>
                                <div class="col-lg-4 fv-row">
                                    <label class="form-label _title" for="form3Example2 " lang="AR-SA"
                                        [style]='arabicFont'>{{ 'content.employeeId' | translate }}</label>
                                    <input type="text" class="form-control" formControlName="employeeFormEmployeeId"
                                        name="employeeFormEmployeeId" readonly
                                        style="background-color: #43ffcb !important;" />
                                </div>
                            </div>
                            <div class="row mb-4">
                                <div class="col-lg-4 fv-row">
                                    <input type="hidden" class="form-control" formControlName="employeeId"
                                        name="employeeId" />
                                    <label class="form-label" for="englishName " lang="AR-SA"
                                        [style]='arabicFont'>{{ 'content.englishName' | translate }}</label>
                                    <input type="text" class="form-control" formControlName="englishName"
                                        name="englishName" lang="AR-SA" readonly />
                                </div>
                                <div class="col-lg-4 fv-row">
                                    <label class="form-label" for="arabicName " lang="AR-SA" [style]='arabicFont'>{{'content.arabicName' | translate }}
                                    </label>
                                    <input type="text" class="form-control" formControlName="arabicName"
                                        name="arabicName" lang="AR-SA" readonly />
                                </div>
                                <div class="col-lg-4 fv-row">
                                    <label class="form-label" for="empGender " lang="AR-SA"
                                        [style]='arabicFont'>{{'content.gender' | translate }}</label>
                                    <ng-select formControlName="empGender" [disabled]="true">
                                        <ng-option *ngFor="let item of genderArray" [value]="item.id"
                                            [disabled]="true">{{item.name}}</ng-option>
                                    </ng-select>
                                </div>
                            </div>
                            <div class="row mb-4">
                                <div class="col-lg-4 fv-row">
                                    <label class="form-label" for="joinedDate" lang="AR-SA" [style]='arabicFont'>{{'content.joiningDate' | translate }}</label>
                                    <input type="text" class="form-control" bsDatepicker
                                        [bsConfig]="{ dateInputFormat: 'DD-MM-YYYY' }" formControlName="joinedDate"
                                        name="joinedDate" lang="AR-SA" readonly />
                                </div>
                                <div class="col-lg-4 fv-row">
                                    <label class="form-label" for="mobileNumber " lang="AR-SA"
                                        [style]='arabicFont'>{{ 'content.mobile' | translate }}</label>
                                    <input type="text" id="mobileNumber" class="form-control"
                                        formControlName="mobileNumber" name="mobileNumber" lang="AR-SA" readonly />
                                </div>
                                <div class="col-lg-4 fv-row">
                                    <label class="form-label" for="empMaritalStatus " lang="AR-SA"
                                        [style]='arabicFont'>{{'content.maritalStatus' | translate }}</label>
                                    <!-- <input type="text" id="empMaritalStatus" class="form-control"
                                            formControlName="empMaritalStatus" name="empMaritalStatus" lang="AR-SA" readonly /> -->
                                    <ng-select formControlName="empMaritalStatus" [disabled]="true">
                                        <ng-option *ngFor="let item of maritalStatusArray" [value]="item.id"
                                            [disabled]="true">{{item.name}}</ng-option>
                                    </ng-select>
                                </div>
                            </div>
                            <div class="row mb-4">
                                <div class="col-lg-4 fv-row">
                                    <label class="form-label" for="nationName " lang="AR-SA"
                                        [style]='arabicFont'>{{'content.nation' | translate }}</label>
                                    <input type="text" id="CountryNameEnglish" class="form-control"
                                        formControlName="CountryNameEnglish" name="CountryNameEnglish" lang="AR-SA"
                                        readonly />
                                </div>
                                <div class="col-lg-4 fv-row">
                                    <label class="form-label" for="contractType " lang="AR-SA"
                                        [style]='arabicFont'>{{'content.contractType' | translate }}</label>
                                    <input type="text" id="contractType" class="form-control"
                                        formControlName="contractType" name="contractType" lang="AR-SA" readonly />
                                </div>
                                <div class="col-lg-4 fv-row">
                                    <label class="form-label" for="kinName" lang="AR-SA" [style]='arabicFont'>{{'content.kinName' | translate }}</label>
                                    <input type="text" id="kinName" class="form-control" formControlName="kinName"
                                        name="kinName" lang="AR-SA" readonly />
                                </div>
                            </div>
                            <div class="row mb-4">
                                <div class="col-lg-4 fv-row">
                                    <label class="form-label" for="kinMobile " lang="AR-SA" [style]='arabicFont'>{{'content.kinMobile' | translate }}</label>
                                    <input type="text" id="kinMobile" class="form-control" formControlName="kinMobile"
                                        name="kinMobile" lang="AR-SA" readonly />
                                </div>
                                <div class="col-lg-4 fv-row">
                                    <label class="form-label" for="subscriptionAmount " lang="AR-SA"
                                        [style]='arabicFont'>{{'content.subscriptionAmount' | translate }}</label>
                                    <input type="text" id="subscriptionAmount" class="form-control"
                                        formControlName="subscriptionAmount" name="subscriptionAmount" lang="AR-SA"
                                        readonly />
                                </div>
                                <div class="col-lg-4 fv-row">
                                    <label class="form-label" for="subscriptionPaid " lang="AR-SA"
                                        [style]='arabicFont'>{{ 'content.subscriptionPaid' | translate }}</label>
                                    <input type="text" id="subscriptionPaid" class="form-control"
                                        formControlName="subscriptionPaid" name="subscriptionPaid" lang="AR-SA"
                                        readonly />
                                </div>
                            </div>
                            <div class="row mb-4">
                                <div class="col-lg-4 fv-row">
                                    <label class="form-label" for="lastSubscriptionPaid " lang="AR-SA"
                                        [style]='arabicFont'>{{'content.lastSubscriptionPaid' | translate }}</label>
                                    <input type="number" id="lastSubscriptionPaid" class="form-control"
                                        formControlName="lastSubscriptionPaid" name="lastSubscriptionPaid" lang="AR-SA"
                                        readonly />
                                </div>
                                <div class="col-lg-4 fv-row">
                                    <label class="form-label" for="subscriptionDueAmount " lang="AR-SA"
                                        [style]='arabicFont'>{{ 'content.subscriptionDueAmount' | translate }}</label>
                                    <input type="number" id="subscriptionDueAmount" class="form-control"
                                        formControlName="subscriptionDueAmount" name="subscriptionDueAmount"
                                        lang="AR-SA" readonly />
                                </div>
                                <div class="col-lg-4 fv-row">
                                    <label class="form-label" for="subscriptionStatus " lang="AR-SA"
                                        [style]='arabicFont'>{{ 'content.subscriptionStatus' | translate }}</label>
                                    <input type="text" class="form-control" bsDatepicker
                                        [bsConfig]="{ dateInputFormat: 'DD-MM-YYYY' }"
                                        formControlName="subscriptionStatus" name="subscriptionStatus" lang="AR-SA"
                                        readonly />
                                </div>
                            </div>


                            <div class="row mb-4">
                                <div class="col-lg-4 fv-row">
                                    <label class="form-label" for="terminationDate " lang="AR-SA"
                                        [style]='arabicFont'>{{ 'content.terminationDate' | translate }}</label>
                                    <input type="text" class="form-control" bsDatepicker
                                        [bsConfig]="{ dateInputFormat: 'DD-MM-YYYY' }" formControlName="terminationDate"
                                        name="terminationDate" lang="AR-SA" readonly />
                                </div>
                                <div class="col-lg-4 fv-row">
                                    <label class="form-label" for="endDate " lang="AR-SA" [style]='arabicFont'>{{ 'content.endDate' | translate }}</label>
                                    <input type="text" class="form-control" bsDatepicker
                                        [bsConfig]="{ dateInputFormat: 'DD-MM-YYYY' }" formControlName="endDate"
                                        name="endDate" lang="AR-SA" readonly />
                                </div>
                                <div class="col-lg-4 fv-row">
                                    <label class="form-label" for="employeeStatus " lang="AR-SA"
                                        [style]='arabicFont'>{{ 'content.employeeStatus' | translate }}</label>
                                    <input type="number" id="employeeStatus" class="form-control"
                                        formControlName="employeeStatus" name="employeeStatus" lang="AR-SA" readonly />
                                </div>
                            </div>
                            <div class="row mb-4">
                                <div class="col-lg-4 fv-row">
                                    <label class="form-label" for="employeeStatus " lang="AR-SA"
                                        [style]='arabicFont'>{{ 'content.salary' | translate  }}</label>
                                    <input type="number" id="employeeStatus" class="form-control"
                                        formControlName="salary" name="salary" lang="AR-SA" readonly />
                                </div>
                            </div>
                        </form>

                    </div>
                </ng-template>
            </ngb-panel>
        </ngb-accordion>
        <br />
        <div *ngIf="isSearched">
            <!--Service Information-->
            <div class="card mb-5 mb-xl-10">
                <!--begin::Card header-->
                <div class="card-header card-header-stretch pb-0 panel1bgColor">
                    <!--begin::Title-->
                    <div class="card-title" *ngFor="let label of formHeaderLabels; let i = index">
                        <h3 class="m-0 ArFontStyle" lang="AR-SA" id="MembershipTransactions">{{ 'asideMenu.addService' | translate }}</h3>
                    </div>
                    <div class="card-title">
                        <h3 class="m-0 text-danger ArFontStyle" lang="AR-SA">{{ 'content.serviceStatus' | translate }}</h3>
                    </div>
                    <!--end::Title-->
                </div>
                <!--end::Card header-->
                <!--begin::Tab content-->

                <div id="kt_billing_payment_tab_content" class="card-body tab-content"
                    *ngFor="let bodyLabel of formBodyLabels; let i = index">
                    <!--begin::Tab panel-->
                    <div id="kt_billing_creditcard" class="tab-pane fade show active" role="tabpanel">
                        <!--begin::Title-->
                        <!-- <h3 class="mb-5">Job Information</h3> -->
                        <!--end::Title-->
                        <!--begin::Row-->
                        <div class="row gx-9 gy-6">
                            <form autocomplete="off" [formGroup]="addServiceForm">
                                <div class="row mb-6">
                                    <div class="col-lg-4 fv-row">
                                        <label class="col-form-label fw-bold fs-6 ArFontStyle"
                                            lang="AR-SA">{{'content.serviceType' | translate }}</label>
                                        <ng-select [items]="selectServiceType" bindLabel="shortname"
                                            formControlName="serviceType" bindValue="refId" lang="AR-SA"
                                            (change)="onServiceTypeChange($event)" [(ngModel)]="serviceTypeSelected">
                                        </ng-select>
                                        <span class="text-danger"
                                            *ngIf="isFormSubmitted && addServiceFrm.serviceType.errors?.required">
                                            {{ 'content.serviceValidationMessage' | translate }}
                                        </span>
                                    </div>
                                    <div class="col-lg-4 fv-row">
                                        <label class="col-form-label fw-bold fs-6 ArFontStyle"
                                            lang="AR-SA">{{ 'content.subServiceType' | translate }}</label>
                                        <ng-select [items]="selectServiceSubType" bindLabel="shortName"
                                            formControlName="serviceSubType" bindValue="refId" lang="AR-SA"
                                            (change)="onServiceSubTypeChange($event)">
                                        </ng-select>
                                        <span class="text-danger"
                                            *ngIf="isFormSubmitted && addServiceFrm.serviceSubType.errors?.required">
                                            {{ 'content.subServiceValidationMessage' | translate }}
                                        </span>
                                    </div>
                                    <div class="col-lg-4 fv-row">
                                        <label class="col-form-label fw-bold fs-6 ArFontStyle" lang="AR-SA">{{ 'content.transactionDate' | translate }}</label>
                                        <div class="input-group">
                                            <span class="input-group-text" id="basic-addon1">
                                                <i class="fas fa-calendar"></i>
                                            </span>
                                            <input type="text" class="form-control" bsDatepicker
                                                [bsConfig]="{ dateInputFormat: 'DD-MM-YYYY' }"
                                                formControlName="transDate" name="transDate" lang="AR-SA" />
                                        </div>
                                    </div>
                                    <!-- <div class="col-lg-1 fv-row" style="margin-top: 43px;">
                                    <div class="text-left">
                                        <button mat-raised-button color="accent"
                                            (click)="getFinancialCalculation()">Get</button>
                                    </div>
                                </div> -->
                                </div>
                                <div class="row mb-6">
                                    <div class="col-lg-3 fv-row">
                                        <label class="col-form-label fw-bold fs-6 ArFontStyle"
                                            lang="AR-SA">{{ 'content.amount' | translate }}</label>
                                        <input type="number" class="form-control form-control-lg mb-lg-0"
                                            (keyup)="calculateInstallments()" formControlName="totamt"
                                            [readonly]="isViewOnly" />
                                        <span class="text-danger"
                                            *ngIf="isFormSubmitted && addServiceFrm.totamt.errors?.required">
                                            {{ 'content.amountValidation' | translate }}
                                        </span>
                                    </div>
                                    <div class="col-lg-3 fv-row">
                                        <label class="col-form-label fw-bold fs-6 ArFontStyle" lang="AR-SA"><small
                                                class="text-danger" style="font-size:10px">{{'content.incaseofGiftByDefault' | translate }}
                                            </small>
                                            {{ 'content.giftAmount' | translate }}
                                        </label>
                                        <input type="number" class="form-control form-control-lg mb-lg-0"
                                            formControlName="allowDiscountAmount" (keyup)="calculateInstallments()" />
                                        <span class="text-danger"
                                            *ngIf="isFormSubmitted && addServiceFrm.allowDiscountAmount.errors?.required">
                                            {{ 'content.giftAmountValidation' | translate }}
                                        </span>
                                    </div>
                                    <div class="col-lg-3 fv-row">
                                        <label class="col-form-label fw-bold fs-6 ArFontStyle" for="subscriptionStatus "
                                            lang="AR-SA" [style]='arabicFont'>{{'content.downPayment' | translate }}</label>
                                        <input type="number" id="downPayment" class="form-control"
                                            formControlName="downPayment" (keyup)="calculateInstallments()"
                                            name="downPayment" lang="AR-SA" [readonly]="isViewOnly" />
                                    </div>
                                    <div class="col-lg-3 fv-row">
                                        <label class="col-form-label fw-bold fs-6 ArFontStyle"
                                            lang="AR-SA">{{ 'content.installmentAmount' | translate }}</label>
                                        <input type="number" class="form-control form-control-lg mb-lg-0" value="0.00"
                                            formControlName="installmentAmount" />
                                        <span class="text-danger"
                                            *ngIf="isFormSubmitted && addServiceFrm.installmentAmount.errors?.required">
                                            {{'content.installmentAmountValidation' | translate }}
                                        </span>

                                    </div>
                                    <div class="col-lg-3 fv-row">
                                        <label class="col-form-label fw-bold fs-6 ArFontStyle"
                                            lang="AR-SA">{{ 'content.noOfInstallments' | translate }}</label>
                                        <input type="number" class="form-control form-control-lg mb-lg-0"
                                            formControlName="totinstallments" (keyup)="calculateInstallments()"
                                            [readonly]="isViewOnly" />
                                        <span class="text-danger"
                                            *ngIf="isFormSubmitted && addServiceFrm.totinstallments.errors?.required">
                                            {{ 'content.noOfInstallmentsValidation' | translate }}
                                        </span>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-3 fv-row">
                                        <label class="col-form-label fw-bold fs-6 ArFontStyle"
                                            lang="AR-SA">{{ 'content.startingDeductionMonth' | translate }}</label>
                                        <div class="input-group">
                                            <span class="input-group-text" id="basic-addon1">
                                                <i class="fas fa-calendar"></i>
                                            </span>
                                            <input type="text" class="form-control" bsDatepicker [minDate]="minDate"
                                                [bsConfig]="{ dateInputFormat: 'MMM-YYYY' }" lang="AR-SA"
                                                (bsValueChange)="calculateUntilMonth($event)"
                                                formControlName="installmentsBegDate" />
                                        </div>
                                        <span class="text-danger"
                                            *ngIf="isFormSubmitted && addServiceFrm.installmentsBegDate.errors?.required">
                                            {{ 'content.installmentBeginDateValidation' | translate }}
                                        </span>
                                    </div>
                                    <div class="col-lg-3 fv-row">
                                        <label class="col-form-label fw-bold fs-6 ArFontStyle"
                                            lang="AR-SA">{{ 'content.untilMonth' | translate }}</label>
                                        <div class="input-group">
                                            <span class="input-group-text" id="basic-addon1">
                                                <i class="fas fa-calendar"></i>
                                            </span>
                                            <input type="text" class="form-control form-control-lg  mb-3 mb-lg-0"
                                                formControlName="untilMonth" disabled />
                                        </div>
                                    </div>
                                    <div class="col-lg-3 fv-row">
                                        <label class="col-form-label fw-bold fs-6 ArFontStyle"
                                            lang="AR-SA">{{'content.expectedTransactionNumber' | translate}}</label>
                                        <input type="text" class="form-control form-control-lg mb-lg-0"
                                            formControlName="searialNo" disabled />
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-3 fv-row">
                                        <label class="col-form-label fw-bold fs-6 ArFontStyle" lang="AR-SA">{{ 'content.pfId' | translate}}</label>
                                        <input type="text" class="form-control form-control-lg  mb-lg-0"
                                            formControlName="pfId" />
                                    </div>
                                    <div class="col-lg-9 fv-row">
                                        <div class="text-left " style="margin-top: 3rem">
                                            <button type="button"
                                                class="btn btn-primary float-left ArFontStyle dark-sea-green"
                                                lang="AR-SA" (click)="saveFinancialService()">{{ 'content.save' | translate }}</button>
                                            &nbsp;
                                            <button ype="button"
                                                class="btn btn-primary float-left ArFontStyle tea-green" lang="AR-SA"
                                                (click)="getFinancialCalculation()">{{ 'content.get' | translate }}</button>
                                        </div>

                                    </div>
                                </div>
                            </form>
                        </div>
                        <!--end::Row-->
                    </div>

                </div>
                <!--end::Tab content *ngIf="isPFIdNull"-->
                <ngb-accordion #acc="ngbAccordion" class="financial_calculation" activeIds="ngb-panel-0">
                    <ngb-panel>
                        <ng-template ngbPanelTitle>
                            <h3 class="m-0 ArFontStyle header_color" lang="AR-SA" id="FinancialCalculation">{{'content.financialCalculation' | translate }}</h3>
                        </ng-template>
                        <ng-template ngbPanelContent>
                            <div class="row">
                                <div class="text-left">
                                    <button mat-raised-button color="primary"
                                        (click)="calculateFinancialAmount()">{{ 'content.calculate' | translate }}</button>
                                </div>
                            </div>
                            <form autocomplete="off" [formGroup]="financialCalculationForm">
                                <div class="row">
                                    <div class="col-lg-3 fv-row">
                                        <label class="col-form-label fw-bold fs-6 ArFontStyle label-color">{{ 'content.yearOfService' | translate }}</label>
                                        <input type="text" class="form-control form-control-lg  mb-lg-0"
                                            formControlName="yearOfService" readonly
                                            style="background-color: #e9e9e9;" />

                                    </div>
                                    <div class="col-lg-3 fv-row">
                                        <label class="col-form-label fw-bold fs-6 ArFontStyle label-color"
                                            lang="AR-SA">{{ 'content.noOfTransactions' | translate }}</label>
                                        <input type="number" class="form-control form-control-lg  mb-lg-0"
                                            formControlName="noOfTransactions" readonly
                                            style="background-color: #e9e9e9;" />
                                    </div>
                                    <div class="col-lg-3 fv-row">
                                        <label class="col-form-label fw-bold fs-6 ArFontStyle label-color"
                                            lang="AR-SA">{{ 'content.paidSubscriptionAmount' | translate }}</label>
                                        <input type="number" class="form-control form-control-lg  mb-lg-0"
                                            formControlName="subscriptionPaidAmount" readonly
                                            style="background-color: #e9e9e9;" />
                                    </div>
                                    <div class="col-lg-3 fv-row">
                                        <label class="col-form-label fw-bold fs-6 ArFontStyle label-color"
                                            lang="AR-SA">{{'content.subscriptionDueAmount' | translate }}</label>
                                        <input type="number" class="form-control form-control-lg  mb-lg-0"
                                            formControlName="subscriptionDueAmount" readonly
                                            style="background-color: #e9e9e9;" />
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-3 fv-row">
                                        <label class="col-form-label fw-bold fs-6 ArFontStyle label-color"
                                            lang="AR-SA">(-)
                                            {{ 'content.loanBalance' | translate }}</label>
                                        <input type="number" class="form-control form-control-lg  mb-lg-0"
                                            formControlName="loanPendingAmount" readonly
                                            style="background-color: #e9e9e9;" />
                                    </div>
                                    <div class="col-lg-3 fv-row">
                                        <label class="col-form-label fw-bold fs-6 ArFontStyle label-color"
                                            lang="AR-SA">(-)
                                            {{ 'content.financialAid' | translate }} (1 %)</label>
                                        <input type="number" class="form-control form-control-lg  mb-lg-0"
                                            formControlName="financialAid" readonly
                                            style="background-color: #e9e9e9;" />
                                    </div>
                                    <div class="col-lg-3 fv-row">
                                        <label class="col-form-label fw-bold fs-6 ArFontStyle label-color"
                                            lang="AR-SA">(-)
                                            {{ 'content.pfFundRevenue' | translate }} (10 %)</label>
                                        <input type="number" class="form-control form-control-lg  mb-lg-0"
                                            formControlName="pfFundRevenue" readonly
                                            style="background-color: #e9e9e9;" />
                                    </div>
                                    <div class="col-lg-3 fv-row">
                                        <label class="col-form-label fw-bold fs-6 ArFontStyle label-color"
                                            lang="AR-SA">{{ 'content.updateToDate' | translate }}</label>
                                        <div class="input-group">
                                            <span class="input-group-text" id="basic-addon1">
                                                <i class="fas fa-calendar"></i>
                                            </span>
                                            <input type="text" class="form-control" bsDatepicker
                                                [bsConfig]="{ dateInputFormat: 'DD-MM-YYYY' }"
                                                formControlName="UpdateToDate" name="UpdateToDate" lang="AR-SA" readonly
                                                style="background-color: #e9e9e9;" />
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-3 fv-row">
                                        <label class="col-form-label fw-bold fs-6 ArFontStyle label-color"
                                            lang="AR-SA">(+)
                                            {{ 'content.adjustmentAmount' | translate }}</label>
                                        <input type="number" class="form-control form-control-lg  mb-lg-0"
                                            formControlName="adjustmentAmount" (keyup)="calculateFinancialAmount()" />
                                    </div>
                                    <div class="col-lg-9 fv-row">
                                        <label class="col-form-label fw-bold fs-6 ArFontStyle label-color"
                                            lang="AR-SA">{{ 'content.remarks' | translate }}</label>
                                        <input type="text" class="form-control form-control-lg  mb-lg-0"
                                            formControlName="adjustmentAmountRemarks" />
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-3 fv-row">
                                        <label class="col-form-label fw-bold fs-6 ArFontStyle label-color"
                                            lang="AR-SA">(+)
                                            {{ 'content.financialAidAmount' | translate }}</label>
                                        <input type="number" class="form-control form-control-lg  mb-lg-0"
                                            formControlName="financialAidAmount" (keyup)="calculateFinancialAmount()" />
                                    </div>
                                    <div class="col-lg-9 fv-row">
                                        <label class="col-form-label fw-bold fs-6 ArFontStyle label-color"
                                            lang="AR-SA">{{ 'content.remarks' | translate }}</label>
                                        <input type="text" class="form-control form-control-lg  mb-lg-0"
                                            formControlName="finAidAmountRemarks" />
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-3 fv-row">
                                        <label class="col-form-label fw-bold fs-6 ArFontStyle label-color"
                                            lang="AR-SA">{{'content.totalAmount' | translate }}</label>
                                        <input type="number" class="form-control form-control-lg  mb-lg-0"
                                            formControlName="totalAmount" readonly style="background-color: #e9e9e9;" />
                                    </div>
                                </div>
                                <div class="row mt-3">
                                    <div class="col-lg-12" style="background-color: #C7EA46;">
                                        <h1 lang="AR-SA" class="display-4 text-center mt-3">{{ 'content.sponsorShip' | translate }}</h1>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-3 fv-row">
                                        <label class="col-form-label fw-bold fs-6 ArFontStyle label-color"
                                            lang="AR-SA">{{ 'content.sponsored' | translate }}</label>
                                        <input type="number" class="form-control form-control-lg  mb-lg-0"
                                            formControlName="noOfSponsor" readonly style="background-color: #e9e9e9;" />
                                    </div>
                                    <div class="col-lg-3 fv-row">
                                        <label class="col-form-label fw-bold fs-6 ArFontStyle label-color"
                                            lang="AR-SA">(-)
                                            {{ 'content.sponsorDueAmount' | translate }}</label>
                                        <input type="number" class="form-control form-control-lg  mb-lg-0"
                                            formControlName="sponsorLoanPendingAmount" readonly
                                            style="background-color: #e9e9e9;" />


                                    </div>
                                    <div class="col-lg-3 fv-row" style="margin-top: 43px;">
                                        <div class="text-right">
                                            <button mat-raised-button color="accent"
                                                (click)="openCashierInformation(cashierInformationModal)">{{ 'content.cashierInformation' | translate }}</button>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </ng-template>
                    </ngb-panel>
                </ngb-accordion>
            </div>
            <!--Document Information-->
            <app-document-attachment [parentFormGroup]="parentForm"
                [documentAccordialDetails]="'ServiceFinanceAccordian'"></app-document-attachment>
            <br />
            <!--Financial Details-->
            <app-financial-detials [parentFormGroup]="parentForm"
                [accordialDetails]="'ServiceFinanceAccordian'"></app-financial-detials>
            <br />

            <!--Approval Details-->

            <app-approval-detials [parentFormGroup]="parentForm"
                [accordialApprovalDetails]="'ServiceApprovalAccordian'"></app-approval-detials>
        </div>

        <!--PopupModal Modal-->
        <ng-template #popupModal let-modal>
            <div class="modal-header">
                <h4 class="modal-title" id="modal-basic-title"></h4>
                <button type="button" class="btn-close" aria-label="Close"
                    (click)="modal.dismiss('Cross click')"></button>
            </div>
            <div class="modal-body">
                <form [formGroup]="popUpForm" id="popUpForm">
                    <div class="mb-3">
                        <span>Your Transaction Id:- <strong>{{popUpForm.controls.transactionId.value}}</strong></span>
                        <br />
                        <br />
                        <span>Attachment Id:- <strong>{{popUpForm.controls.attachId.value}}</strong></span>
                        <br />
                        <br />
                        <span>Pf Id:- <strong>{{popUpForm.controls.pfid.value}}</strong></span>
                    </div>
                </form>
            </div>
            <div class="modal-footer text-right">
                <button mat-raised-button color="accent" (click)="modal.close('yes')">Okay</button>
            </div>
        </ng-template>

        <!--Cashier Information PopupModal Modal-->
        <ng-template #cashierInformationModal let-modal>
            <div class="modal-header">
                <h4 class="modal-title bg-light" id="modal-basic-title" lang="AR-SA"><strong> Cashier Information -
                        معلومات أمين
                        الصندوق</strong></h4>
                <button type="button" class="btn-close" aria-label="Close"
                    (click)="modal.dismiss('Cross click')"></button>
            </div>
            <div class="modal-body ">
                <form [formGroup]="cashierInformationForm">
                    <div class="row">
                        <h4><strong> Installment # 1 </strong></h4>
                        <hr>
                    </div>
                    <div class="row">
                        <div class="col-lg-4 fv-row">
                            <label class="col-form-label fw-bold fs-6 ArFontStyle label-color" lang="AR-SA">%</label>
                            <input type="text" class="form-control" formControlName="payPer1" readonly
                                style="background-color: #e9e9e9;" />
                        </div>
                        <div class="col-lg-4 fv-row">
                            <label class="col-form-label fw-bold fs-6 ArFontStyle label-color" lang="AR-SA">Date</label>
                            <input type="text" class="form-control" formControlName="draftDate1" readonly
                                style="background-color: #e9e9e9;" />
                        </div>
                        <div class="col-lg-4 fv-row">
                            <label class="col-form-label fw-bold fs-6 ArFontStyle label-color" lang="AR-SA">Draft
                                #</label>
                            <input type="text" class="form-control" formControlName="draftNumber1" readonly
                                style="background-color: #e9e9e9;" />
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-4 ">
                            <label class="col-form-label fw-bold ArFontStyle label-color" lang="AR-SA">Amount%</label>
                            <input type="text" class="form-control" formControlName="draftAmount1" readonly
                                style="background-color: #e9e9e9;" />
                        </div>
                        <div class="col-lg-4 ">
                            <label class="col-form-label fw-bold ArFontStyle label-color" lang="AR-SA">Received
                                By</label>
                            <input type="text" class="form-control" formControlName="receivedBy1" readonly
                                style="background-color: #e9e9e9;" />
                        </div>
                        <div class="col-lg-4">
                            <label class="col-form-label fw-bold ArFontStyle label-color" lang="AR-SA">Date
                                Received</label>
                            <input type="text" class="form-control" formControlName="deliveryDate1" readonly
                                style="background-color: #e9e9e9;" />
                        </div>
                    </div>
                    <div class="row" style="margin-top: 20px;">
                        <h4><strong> Installment # 2 </strong></h4>
                        <hr>
                    </div>
                    <div class="row">
                        <div class="col-lg-4">
                            <label class="col-form-label fw-bold ArFontStyle label-color" lang="AR-SA">%</label>
                            <input type="text" class="form-control" formControlName="payPer2" readonly
                                style="background-color: #e9e9e9;" />
                        </div>
                        <div class="col-lg-4 fv-row">
                            <label class="col-form-label fw-bold ArFontStyle label-color" lang="AR-SA">Date</label>
                            <input type="text" class="form-control" formControlName="draftDate2" readonly
                                style="background-color: #e9e9e9;" />
                        </div>
                        <div class="col-lg-4 fv-row">
                            <label class="col-form-label fw-bold ArFontStyle label-color" lang="AR-SA">Draft #</label>
                            <input type="text" class="form-control" formControlName="draftNumber2" readonly
                                style="background-color: #e9e9e9;" />
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-4 fv-row">
                            <label class="col-form-label fw-bold ArFontStyle label-color" lang="AR-SA">Amount</label>
                            <input type="text" class="form-control" formControlName="draftAmount2" readonly
                                style="background-color: #e9e9e9;" />
                        </div>
                        <div class="col-lg-4 fv-row">
                            <label class="col-form-label fw-bold ArFontStyle label-color" lang="AR-SA">Received
                                By</label>
                            <input type="text" class="form-control" formControlName="receivedBy2" readonly
                                style="background-color: #e9e9e9;" />
                        </div>
                        <div class="col-lg-4 fv-row">
                            <label class="col-form-label fw-bold ArFontStyle label-color" lang="AR-SA">Date
                                Received</label>
                            <input type="text" class="form-control" formControlName="deliveryDate2" readonly
                                style="background-color: #e9e9e9;" />
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer text-right">
                <button mat-raised-button color="primary" (click)="modal.close('yes')">Okay</button>
            </div>
        </ng-template>
    </div>
</div>